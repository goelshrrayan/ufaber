{% load static %}
<!DOCTYPE html>
<html lang="en">
 <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./assets/images/favicon-32x32.png"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="{% static 'todo/styles.css' %}?version=53" type="text/css" rel="stylesheet" media="screen,projection">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />

    
    <!-- <link rel="stylesheet" href="./todo/styles.css" /> -->
  </head>
  <body style="height: 100%;"">

  <div class="container page-todo bootstrap snippets bootdeys">
  	
  <div class="details" id="project-details">
    <div class="modal-dialog" style="width: auto !important">

    					<div style="display: flex;">
    						<div class="delete-btn-div" style="width:50%; text-align: start">
	    					<button class="btn btn-primary delete-project" value="back" onclick="back_task('{{project_pk}}')">Back</button>
	    					</div>

	    					<div class="delete-btn-div" style="width:50%; text-align: end">
	    					<button class="btn btn-danger delete-project" value="Delete" onclick="delete_task('{{ project_pk }}', '{{task_pk}}')">Delete Task</button>
	    					</div>

    					</div>
    					
					    <label for="taskname" style="margin-top: 15px">Task Name</label>
					    <input type="text" id="taskname" name="taskname" value="{{ taskname }}" placeholder="Task Name.." required>

					    <label for="description" style="margin-top: 15px">Task Description</label>
					    <textarea id="description_task" name="description" placeholder="Task Description.." style="height:100px" required>{{ description }}</textarea>
					    <div class="project-date" style="width: 100%;">
						    <label for="start_date" style="margin-top: 15px; width: 100%;">Start Date</label>
						    <input  type="date" id="start_date" name="start_date" value="{{ start_date }}"  style="font-size:16px; margin-top: 10px; padding: 4px; font-family: 'Josefin Sans';"  required>
					  	</div>

					  	<div class="project-date" style="width: 100%;">
						    <label for="end_date" style="margin-top: 15px; width: 100%;">End Date</label>
						    <input  type="date" id="end_date" name="end_date" value="{{ end_date }}"  style="font-size:16px; margin-top: 10px; padding: 4px; font-family: 'Josefin Sans';"  required>
					  	</div>

					  	<h1>SubTask List</h1>

					    <div class="delete-btn-div" style="width:100%; text-align: end; margin-top: 15px;">
    					<button class="btn btn-primary add-task" value="Add New SubTask" data-toggle="modal" data-target="#project-create-subtask-modal">Add New SubTask</button>		
  			  
				 </div>
				 
				
        </div>

        <div class="tasks-projects">
	<div class="task-list-projects">
    					{% for subtask in subtask_list %}
	    				  <div class="task low task-low" style="cursor: pointer; border-left: 2px solid #1087ed !important;" onclick="edit_subtask_page('{{ subtask.pk }}')">
								<div class="desc">
									<div class="title">
									{{subtask.name}} 
									</div>
									<div>{{subtask.description}}
									</div>
								</div>
								<div class="time">
									<div class="date" style="font-size: 12px; margin-top: 5px;">start date: {{ subtask.start_date }}</div>
									<span>end date: {{ subtask.end_date }}</span>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>

	<div style="width: 100%; text-align: right;">
						  <button  class="btn btn-success" type="button" value="Submit" onclick="edit_specific_task('{{task_pk}}', '{{ project_pk }}')" style="margin-top: 15px; margin-bottom: 30px" required>
						  	Submit
						  </button>

						      
						   </div>	


         <!-- Modal -->
  <div class="modal fade" id="project-create-subtask-modal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content" style="text-align: left;">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Add New SubTask</h4>
        </div>
        <div class="modal-body">
          <div class="container-form">

					    <label for="subtaskname" style="margin-top: 15px">SubTask Name</label>
					    <input type="text" id="subtaskname" name="subtaskname" placeholder="SubTask Name.." required>

					    <label for="description_subtask" style="margin-top: 15px">Task Description</label>
					    <textarea id="description_subtask" name="description_subtask" placeholder="SubTask Description.." style="height:100px" required></textarea>
					    <div class="task-date" style="width: 100%;">
						    <label for="start_date_subtask" style="margin-top: 15px; width: 100%;">Start Date</label>
						    <input  type="date" id="start_date_subtask" name="start_date_subtask" style="font-size:16px; margin-top: 10px; padding: 4px; font-family: 'Josefin Sans';"  required>
					  	</div>

					  	<div class="task-date" style="width: 100%;">
						    <label for="end_date_subtask" style="margin-top: 15px; width: 100%;">Start Date</label>
						    <input  type="date" id="end_date_subtask" name="end_date_subtask" style="font-size:16px; margin-top: 10px; padding: 4px; font-family: 'Josefin Sans';"  required>
					  	</div>

					    <div style="width: 100%; text-align: right;">
					    <button  class="btn btn-success" type="button" value="Submit" onclick="create_new_subtask('{{ task_pk }}')" style="margin-top: 15px;" required>
					    	Submit
					    </button>
					  </div>
  			  
				 </div>
				
        </div>
      </div>


      
    </div>
  </div>
      </div>

  </body>
</html>

<script type="text/javascript">
	window.pk = "{{ project_pk }}"

</script>

<script type="text/javascript" src="{% static 'todo/js/edit_task.js' %}?v=88"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
